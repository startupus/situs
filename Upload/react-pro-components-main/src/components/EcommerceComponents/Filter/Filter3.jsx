import * as noUiSlider from "nouislider";
import "nouislider/dist/nouislider.css";
import React, { useEffect } from "react";

const Filter3 = () => {
  return (
    <section className="bg-gray-2 pb-12 pt-20 dark:bg-dark lg:pb-[90px] lg:pt-[120px]">
      <div className="container mx-auto">
        <div className="-mx-4 flex flex-wrap">
          <div className="w-full px-4 lg:w-4/12">
            <SidebarCard title="Categories">
              <ul className="pt-6">
                <CategoriesItem
                  link="/#"
                  title="Dslr Camera"
                  icon={
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M17.1562 5.3125H14.8125L14.25 4.1875C13.8437 3.40625 13.0625 2.90625 12.1875 2.90625H7.8125C6.9375 2.90625 6.15625 3.40625 5.75 4.1875L5.1875 5.3125H2.84375C1.59375 5.3125 0.5625 6.34375 0.5625 7.59375V14.75C0.5625 16 1.59375 17.0312 2.84375 17.0312H17.1562C18.4062 17.0312 19.4375 16 19.4375 14.75V7.625C19.4687 6.34375 18.4375 5.3125 17.1562 5.3125ZM18.0625 14.7812C18.0625 15.2812 17.6562 15.6562 17.1875 15.6562H2.84375C2.34375 15.6562 1.96875 15.25 1.96875 14.7812V7.625C1.96875 7.125 2.375 6.75 2.84375 6.75H5.625C5.90625 6.75 6.125 6.59375 6.25 6.375L7 4.875C7.15625 4.5625 7.46875 4.375 7.78125 4.375H12.1875C12.5312 4.375 12.8437 4.5625 12.9687 4.875L13.7187 6.375C13.8437 6.625 14.0937 6.75 14.3437 6.75H17.125C17.625 6.75 18 7.15625 18 7.625V14.7812H18.0625Z"
                        fill="currentColor"
                      />
                      <path
                        d="M10 7.71875C8.28125 7.71875 6.90625 9.09375 6.90625 10.8125C6.90625 12.5312 8.28125 13.9062 10 13.9062C11.7188 13.9062 13.0938 12.5312 13.0938 10.8125C13.0938 9.09375 11.7188 7.71875 10 7.71875ZM10 12.4688C9.0625 12.4688 8.3125 11.7187 8.3125 10.7812C8.3125 9.84375 9.0625 9.09375 10 9.09375C10.9375 9.09375 11.6875 9.84375 11.6875 10.7812C11.6875 11.7187 10.9375 12.4688 10 12.4688Z"
                        fill="currentColor"
                      />
                      <path
                        d="M5.21875 7.71875H3.625C3.25 7.71875 2.90625 8.03125 2.90625 8.4375C2.90625 8.84375 3.21875 9.15625 3.625 9.15625H5.21875C5.59375 9.15625 5.9375 8.84375 5.9375 8.4375C5.9375 8.03125 5.625 7.71875 5.21875 7.71875Z"
                        fill="currentColor"
                      />
                    </svg>
                  }
                />
                <CategoriesItem
                  link="/#"
                  title="Laptop"
                  icon={
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M19.4375 16.1563C19.4375 16.0625 19.4375 15.9688 19.4063 15.875L17.9375 11.9063C17.9375 11.875 17.9063 11.875 17.9063 11.8438V3.375C17.9063 2.40625 17.125 1.59375 16.1563 1.59375H3.84375C2.87501 1.59375 2.09375 2.375 2.09375 3.375V11.8438C2.09375 11.875 2.0625 11.875 2.0625 11.9063L0.593755 15.875C0.562505 15.9688 0.531255 16.0625 0.562505 16.1563C0.562505 16.1563 0.562505 16.1563 0.562505 16.1875V17.125C0.562505 17.8438 1.15625 18.4375 1.875 18.4375H18.1563C18.875 18.4375 19.4688 17.8438 19.4688 17.125L19.4375 16.1563C19.4688 16.1563 19.4375 16.1563 19.4375 16.1563ZM3.5 3.375C3.5 3.1875 3.65625 3 3.84375 3H16.1563C16.3438 3 16.5 3.15625 16.5 3.375V11.5H3.5V3.375ZM1.96875 17V16.25L3.21875 12.9063H16.8125L18.0625 16.25V17.0313H1.96875V17Z"
                        fill="currentColor"
                      />
                      <path
                        d="M10.5938 4.125H9.40625C9.03125 4.125 8.6875 4.4375 8.6875 4.84375C8.6875 5.25 9 5.5625 9.40625 5.5625H10.5938C10.9688 5.5625 11.3125 5.25 11.3125 4.84375C11.3125 4.4375 10.9688 4.125 10.5938 4.125Z"
                        fill="currentColor"
                      />
                    </svg>
                  }
                />
                <CategoriesItem
                  link="/#"
                  title="Gaming Console"
                  icon={
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M7.28125 8.09375H6.59375V7.4375C6.59375 7.0625 6.28125 6.71875 5.875 6.71875C5.46875 6.71875 5.15625 7.03125 5.15625 7.4375V8.09375H4.46875C4.09375 8.09375 3.75 8.40625 3.75 8.8125C3.75 9.21875 4.0625 9.53125 4.46875 9.53125H5.15625V10.1875C5.15625 10.5625 5.46875 10.9062 5.875 10.9062C6.28125 10.9062 6.59375 10.5937 6.59375 10.1875V9.53125H7.28125C7.65625 9.53125 8 9.21875 8 8.8125C8 8.40625 7.65625 8.09375 7.28125 8.09375Z"
                        fill="currentColor"
                      />
                      <path
                        d="M13.4063 7.81248C13.4375 7.84373 13.4375 7.90623 13.4687 7.93748C13.5 7.96873 13.5313 7.99998 13.5625 8.06248C13.5938 8.09373 13.625 8.12498 13.6563 8.15623C13.6875 8.18748 13.75 8.18748 13.7812 8.21873C13.8125 8.24998 13.875 8.24998 13.9063 8.24998C13.9688 8.24998 14 8.28123 14.0313 8.28123C14.2188 8.28123 14.4063 8.21873 14.5313 8.06248C14.5625 8.03123 14.5938 7.99998 14.625 7.93748C14.6563 7.90623 14.6563 7.84373 14.6875 7.81248C14.6875 7.78123 14.7188 7.71873 14.7188 7.68748C14.7188 7.65623 14.7188 7.59373 14.7188 7.56248C14.7188 7.37498 14.6563 7.18748 14.5 7.06248C14.3438 6.90623 14.0938 6.81248 13.875 6.87498C13.8438 6.87498 13.7813 6.90623 13.75 6.90623C13.7188 6.90623 13.6562 6.93748 13.625 6.96873C13.5937 6.99998 13.5625 7.03123 13.5313 7.06248C13.5 7.09373 13.4688 7.12498 13.4375 7.18748C13.4375 7.18748 13.4375 7.21873 13.4063 7.28123C13.4063 7.31248 13.375 7.37498 13.375 7.40623C13.375 7.43748 13.375 7.49998 13.375 7.53123C13.375 7.59373 13.375 7.62498 13.375 7.65623C13.375 7.71873 13.4063 7.74998 13.4063 7.81248Z"
                        fill="currentColor"
                      />
                      <path
                        d="M13.4063 8.90623C13.4063 8.84373 13.4063 8.81248 13.4063 8.78123C13.4063 8.71873 13.375 8.68748 13.375 8.65623C13.3438 8.62498 13.3438 8.56248 13.3125 8.53123C13.2812 8.49998 13.25 8.46873 13.2188 8.43748C13.0625 8.28123 12.8125 8.18748 12.5938 8.24998C12.5313 8.24998 12.5 8.28123 12.4688 8.28123C12.4375 8.31248 12.375 8.31248 12.3438 8.34373C12.3125 8.37498 12.2813 8.40623 12.25 8.43748C12.2188 8.46873 12.1875 8.49998 12.1563 8.53123C12.125 8.56248 12.0938 8.62498 12.0938 8.65623C12.0625 8.68748 12.0625 8.74998 12.0625 8.78123C12.0625 8.81248 12.0625 8.87498 12.0625 8.90623C12.0625 8.93748 12.0625 8.99998 12.0625 9.03123C12.0625 9.06248 12.0938 9.12498 12.0938 9.15623C12.125 9.18748 12.125 9.24998 12.1563 9.28123C12.1875 9.31248 12.2188 9.34373 12.25 9.37498C12.2813 9.40623 12.3125 9.43748 12.3438 9.46873C12.375 9.49998 12.4375 9.53123 12.4688 9.53123C12.5 9.56248 12.5625 9.56248 12.5938 9.56248C12.625 9.56248 12.6875 9.59373 12.7188 9.59373C12.9063 9.59373 13.0938 9.53123 13.2188 9.37498C13.25 9.34373 13.2812 9.31248 13.3125 9.28123C13.3438 9.24998 13.375 9.18748 13.375 9.15623C13.4063 9.12498 13.4063 9.06248 13.4063 9.03123C13.375 8.99998 13.4063 8.93748 13.4063 8.90623Z"
                        fill="currentColor"
                      />
                      <path
                        d="M14.7187 10.125C14.6875 10.0938 14.6875 10.0312 14.6563 10C14.625 9.96875 14.5937 9.9375 14.5625 9.90625C14.3125 9.65625 13.8438 9.65625 13.5625 9.90625C13.5313 9.9375 13.5 9.96875 13.4687 10C13.4375 10.0312 13.4063 10.0938 13.4063 10.125C13.4063 10.1563 13.375 10.2187 13.375 10.25C13.375 10.2812 13.375 10.3438 13.375 10.375C13.375 10.4063 13.375 10.4687 13.375 10.5C13.375 10.5312 13.4063 10.5938 13.4063 10.625C13.4375 10.6563 13.4375 10.7188 13.4687 10.75C13.5 10.7813 13.5313 10.8125 13.5625 10.8438C13.5938 10.875 13.625 10.9063 13.6563 10.9375C13.6875 10.9688 13.75 10.9688 13.7812 11C13.8125 11.0313 13.875 11.0312 13.9063 11.0312C13.9375 11.0312 14 11.0312 14.0313 11.0312C14.0625 11.0312 14.125 11.0312 14.1562 11.0312C14.2188 11.0312 14.25 11 14.2813 11C14.3125 11 14.375 10.9688 14.4062 10.9375C14.4375 10.9063 14.4688 10.875 14.5 10.8438C14.5313 10.8125 14.5625 10.7813 14.5938 10.75C14.625 10.7188 14.625 10.6563 14.6563 10.625C14.6875 10.5938 14.6875 10.5312 14.6875 10.5C14.6875 10.4687 14.6875 10.4063 14.6875 10.375C14.6875 10.3438 14.6875 10.2812 14.6875 10.25C14.75 10.2187 14.7187 10.1563 14.7187 10.125Z"
                        fill="currentColor"
                      />
                      <path
                        d="M14.9063 8.40625C14.7813 8.53125 14.6875 8.71875 14.6875 8.90625C14.6875 9.09375 14.75 9.28125 14.9063 9.40625C15.0625 9.53125 15.2187 9.625 15.4062 9.625C15.5938 9.625 15.7813 9.5625 15.9063 9.40625C16.0313 9.25 16.125 9.09375 16.125 8.90625C16.125 8.71875 16.0625 8.53125 15.9063 8.40625C15.6563 8.15625 15.1875 8.15625 14.9063 8.40625Z"
                        fill="currentColor"
                      />
                      <path
                        d="M19.5313 11.875L18.375 7.25C17.875 5.3125 16.1563 3.9375 14.1563 3.9375H5.87502C3.87502 3.9375 2.12502 5.28125 1.65627 7.25L0.468772 11.875C0.218772 12.875 0.437522 13.9375 1.06252 14.75C1.68752 15.5625 2.65627 16.0312 3.71877 16.0312C5.06252 16.0312 6.28127 15.2188 6.81252 14L7.15627 13.2188H12.875L13.2188 14C13.75 15.25 14.9688 16.0312 16.3125 16.0312C17.3438 16.0312 18.3125 15.5625 18.9688 14.75C19.5625 13.9375 19.7813 12.875 19.5313 11.875ZM17.8125 13.875C17.4375 14.3438 16.875 14.625 16.2813 14.625C15.5 14.625 14.7813 14.1563 14.5 13.4375L14 12.25C13.875 12 13.625 11.8125 13.3438 11.8125H6.68752C6.40627 11.8125 6.15627 11.9688 6.03127 12.25L5.53127 13.4375C5.21877 14.1563 4.53127 14.625 3.75002 14.625C3.12502 14.625 2.56252 14.375 2.18752 13.875C1.81252 13.4063 1.68752 12.7812 1.84377 12.2188L3.00002 7.59375C3.34377 6.28125 4.50002 5.34375 5.87502 5.34375H14.125C15.4688 5.34375 16.6563 6.25 17 7.59375L18.1563 12.2188C18.3125 12.8125 18.1875 13.4063 17.8125 13.875Z"
                        fill="currentColor"
                      />
                    </svg>
                  }
                />
                <CategoriesItem
                  link="/#"
                  title="Microphone"
                  icon={
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <g clipPath="url(#clip0_1022_21777)">
                        <path
                          d="M13.8125 0.5625C10.6875 0.5625 8.15625 3.09375 8.15625 6.21875C8.15625 6.75 8.25 7.28125 8.375 7.78125L1.34375 14.7813C0.28125 15.8438 0.28125 17.5938 1.34375 18.6563C1.875 19.1875 2.5625 19.4375 3.28125 19.4375C4 19.4375 4.6875 19.1875 5.21875 18.6563L12.25 11.625C12.75 11.7813 13.25 11.8438 13.8125 11.8438C16.9375 11.8438 19.4688 9.3125 19.4688 6.1875C19.4688 3.0625 16.9062 0.5625 13.8125 0.5625ZM2.34375 17.6563C1.84375 17.1563 1.84375 16.2813 2.34375 15.7813L2.4375 15.6875L4.3125 17.5625L4.25 17.625C3.71875 18.1875 2.84375 18.1875 2.34375 17.6563ZM5.28125 16.5938L3.40625 14.7188L9 9.15625C9.46875 9.9375 10.125 10.5625 10.875 11.0313L5.28125 16.5938ZM9.5625 6.1875C9.5625 5.8125 9.625 5.46875 9.6875 5.125L14.8438 10.3125C14.5 10.4063 14.1562 10.4375 13.8125 10.4375C11.4688 10.4375 9.5625 8.53125 9.5625 6.1875ZM16.2188 9.6875L10.3125 3.78125C11.0938 2.6875 12.3438 1.96875 13.7812 1.96875C16.125 1.96875 18.0312 3.875 18.0312 6.21875C18.0625 7.65625 17.3125 8.9375 16.2188 9.6875Z"
                          fill="currentColor"
                        />
                      </g>
                      <defs>
                        <clipPath id="clip0_1022_21777">
                          <rect width="20" height="20" fill="white" />
                        </clipPath>
                      </defs>
                    </svg>
                  }
                />
              </ul>
            </SidebarCard>
            <SidebarCard title="Shop By Price">
              <PriceRange />
            </SidebarCard>
            <SidebarCard title="Choose Color">
              <div className="space-y-4 pt-6">
                <CheckboxGroup name="color" id="one" title="White" />
                <CheckboxGroup name="color" id="two" title="Blue  " />
                <CheckboxGroup name="color" id="three" title="Brown" />
                <CheckboxGroup name="color" id="four" title="Green" />
                <CheckboxGroup name="color" id="five" title="Purple" />
              </div>
            </SidebarCard>
            <SidebarCard title="Select Size">
              <div className="space-y-4 pt-6">
                <CheckboxGroup name="size" id="m" title="M" />
                <CheckboxGroup name="size" id="l" title="L" />
                <CheckboxGroup name="size" id="xl" title="XL" />
                <CheckboxGroup name="size" id="xxl" title="XXL" />
              </div>
            </SidebarCard>
          </div>

          <div className="w-full px-4 lg:w-8/12">
            <div className="mb-8 flex h-full items-center justify-center rounded-lg border border-dashed border-stroke bg-white py-12 dark:border-dark-3 dark:bg-dark-2">
              <span className="text-3xl font-bold text-dark/10 dark:text-white sm:text-4xl md:text-[44px] md:leading-[55px]">
                Products
              </span>
            </div>
          </div>
        </div>
      </div>
    </section>
  );
};

export default Filter3;

const SidebarCard = ({ title, children }) => {
  return (
    <div className="mb-9 rounded-lg border border-stroke bg-white px-8 pb-8 pt-[22px] dark:border-dark-3 dark:bg-dark-2 lg:px-6 xl:px-8">
      <h3 className="border-b border-stroke pb-[18px] text-lg font-semibold text-dark dark:border-dark-3 dark:text-white">
        {title}
      </h3>
      {children}
    </div>
  );
};
const CategoriesItem = ({ link, title, icon }) => {
  return (
    <li className="mb-3">
      <a
        href={link}
        className="flex items-center gap-3 text-base font-medium text-body-color hover:text-primary dark:text-dark-6"
      >
        <span>{icon}</span>
        {title}
      </a>
    </li>
  );
};

const CheckboxGroup = ({ title, id, name }) => {
  return (
    <div>
      <label
        htmlFor={id}
        className="flex cursor-pointer select-none items-center font-medium text-dark dark:text-white"
      >
        <div className="relative">
          <input type="radio" name={name} id={id} className="sr-only"></input>
          <div className="box mr-4 flex h-5 w-5 items-center justify-center rounded-sm border">
            <span className="opacity-0">
              <svg
                width="11"
                height="8"
                viewBox="0 0 11 8"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M10.0915 0.951972L10.0867 0.946075L10.0813 0.940568C9.90076 0.753564 9.61034 0.753146 9.42927 0.939309L4.16201 6.22962L1.58507 3.63469C1.40401 3.44841 1.11351 3.44879 0.932892 3.63584C0.755703 3.81933 0.755703 4.10875 0.932892 4.29224L0.932878 4.29225L0.934851 4.29424L3.58046 6.95832C3.73676 7.11955 3.94983 7.2 4.1473 7.2C4.36196 7.2 4.55963 7.11773 4.71406 6.9584L10.0468 1.60234C10.2436 1.4199 10.2421 1.1339 10.0915 0.951972ZM4.2327 6.30081L4.2317 6.2998C4.23206 6.30015 4.23237 6.30049 4.23269 6.30082L4.2327 6.30081Z"
                  fill="#3056D3"
                  stroke="#3056D3"
                  strokeWidth="0.4"
                ></path>
              </svg>
            </span>
          </div>
        </div>
        {title}
      </label>
    </div>
  );
};

const PriceRange = () => {
  useEffect(() => {
    const stepsSlider = document.getElementById("slider-range");
    const input0 = document.getElementById("minAmount");
    const input1 = document.getElementById("maxAmount");
    const inputs = [input0, input1];
    noUiSlider.create(stepsSlider, {
      start: [200, 1200],
      connect: true,
      step: 1,
      range: {
        min: [0],
        max: 2000,
      },
    });

    stepsSlider.noUiSlider.on("update", function (values, handle) {
      inputs[handle].innerHTML = values[handle];
    });
  });

  return (
    <div className="mt-6 w-full">
      <div className="priceSlideTwo" id="pricingOne">
        <div className="price-range">
          <div className="price-amount flex items-center justify-between">
            <div className="amount-input w-1/2">
              <label className="mb-1 block text-xs text-body-color dark:text-dark-6">
                Minimum Price
              </label>
              <span
                type="text"
                id="minAmount"
                className="text-block outline-hidden w-full rounded-sm border-[.3px] border-stroke bg-gray-1 px-3 py-1 text-center text-sm font-semibold text-dark dark:border-dark-3 dark:bg-dark-4 dark:text-white"
              >
                200.00
              </span>
            </div>
            <div className="amount-input w-1/2 text-right">
              <label className="mb-1 block text-xs text-body-color dark:text-dark-6">
                Maximum Price
              </label>
              <span
                type="text"
                id="maxAmount"
                className="text-block outline-hidden w-full rounded-sm border-[.3px] border-stroke bg-gray-1 px-3 py-1 text-center text-sm font-semibold text-dark dark:border-dark-3 dark:bg-dark-4 dark:text-white"
              >
                1200.00
              </span>
            </div>
          </div>
          <div id="slider-range" className="slider-range"></div>
        </div>
      </div>
    </div>
  );
};
