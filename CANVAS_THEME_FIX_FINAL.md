# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º—ã –∫–∞–Ω–≤–∞—Å–∞

## –ü—Ä–æ–±–ª–µ–º–∞
–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º–Ω–æ–π –∏ —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã –≤ –∫–∞–Ω–≤–∞—Å –∏–∑ —Ç—É–ª–±–∞—Ä–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ, –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ –±—Ä–∞—É–∑–µ—Ä–∞.

## –ü—Ä–∏—á–∏–Ω—ã –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

### 1. –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã –≤ useCanvasTheme
- **–ü—Ä–æ–±–ª–µ–º–∞**: useEffect —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ `[theme, getSystemTheme, applyTheme]` –≤—ã–∑—ã–≤–∞–ª –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä—ã
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –£–±—Ä–∞–ª –ª–∏—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∏—Å–ø—Ä–∞–≤–∏–ª –ª–æ–≥–∏–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∫–æ–Ω–æ–∫
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ò–∫–æ–Ω–∫–∏ —Ç–µ–º—ã –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏ —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤–º–µ—Å—Ç–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–∏–ª –ª–æ–≥–∏–∫—É –≤ `getThemeIcon()` —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–∫–æ–Ω–∫—É —Å–ª–µ–¥—É—é—â–µ–π —Ç–µ–º—ã

### 3. –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–º—ã
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ–º–∞ –ø—Ä–∏–º–µ–Ω—è–ª–∞—Å—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –£–ª—É—á—à–∏–ª –ª–æ–≥–∏–∫—É –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º saved/system —Ç–µ–º—ã

### 4. –ù–ï –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù –í –û–°–ù–û–í–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï üî•
- **–ü—Ä–æ–±–ª–µ–º–∞**: –•—É–∫ `useCanvasTheme` –Ω–µ –±—ã–ª –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É –∫–∞–Ω–≤–∞—Å—É –≤ `EditorContent`
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏–ª –∏–º–ø–æ—Ä—Ç –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Ö—É–∫–∞ –≤ `src/components/redaktus/redaktus-core.tsx`

### 5. –ö–û–ù–§–õ–ò–ö–¢ –° –°–ò–°–¢–ï–ú–ù–û–ô –¢–ï–ú–ù–û–ô –¢–ï–ú–û–ô üî•
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ –±—Ä–∞—É–∑–µ—Ä–∞ –∫–∞–Ω–≤–∞—Å –Ω–∞—Å–ª–µ–¥–æ–≤–∞–ª —Å—Ç–∏–ª–∏ –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏–ª –ø–æ–ª–Ω—É—é –∏–∑–æ–ª—è—Ü–∏—é –∫–∞–Ω–≤–∞—Å–∞ —á–µ—Ä–µ–∑ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–µ inline —Å—Ç–∏–ª–∏ –∏ CSS `!important`

## –í–Ω–µ—Å–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### src/hooks/useCanvasTheme.ts
```typescript
// –§–ò–ù–ê–õ–¨–ù–ê–Ø –í–ï–†–°–ò–Ø: –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –æ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
const applyTheme = useCallback((newTheme: 'light' | 'dark') => {
  const canvasContainer = document.querySelector('.redaktus-canvas') as HTMLElement;
  
  if (canvasContainer) {
    // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—á–∏—â–∞–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã —Ç–µ–º—ã
    canvasContainer.classList.remove('dark', 'canvas-dark', 'canvas-light');
    canvasContainer.setAttribute('data-canvas-theme', newTheme);
    
    if (newTheme === 'dark') {
      canvasContainer.classList.add('dark');
      // –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–´–ï –°–¢–ò–õ–ò –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–∑–æ–ª—è—Ü–∏–∏
      canvasContainer.style.backgroundColor = '#111827';
      canvasContainer.style.colorScheme = 'dark';
    } else {
      canvasContainer.style.backgroundColor = '#ffffff';
      canvasContainer.style.colorScheme = 'light';
    }
  }
}, []);
```

### src/index.css
```css
/* –ü–û–õ–ù–ê–Ø –ò–ó–û–õ–Ø–¶–ò–Ø –ö–ê–ù–í–ê–°–ê */
.redaktus-canvas {
  isolation: isolate;
  all: unset; /* –°–±—Ä–∞—Å—ã–≤–∞–µ–º –í–°–ï –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ */
  display: block;
  overflow-y: auto;
  min-width: 0;
  flex: 1;
}

/* –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–´–ï –°–¢–ò–õ–ò –¥–ª—è –±–ª–æ–∫–æ–≤ */
.redaktus-canvas:not(.dark) .text-dark { color: #1e293b !important; }
.redaktus-canvas:not(.dark) .bg-white { background-color: white !important; }

.redaktus-canvas.dark .text-dark { color: #f9fafb !important; }
.redaktus-canvas.dark .bg-white { background-color: #1f2937 !important; }
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

1. ‚úÖ **useCanvasTheme —Ö—É–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ** - –Ω–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤
2. ‚úÖ **–ò–∫–æ–Ω–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ** - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å–ª–µ–¥—É—é—â—É—é —Ç–µ–º—É
3. ‚úÖ **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ** - —Ü–∏–∫–ª: —Å–∏—Å—Ç–µ–º–∞ ‚Üí —Å–≤–µ—Ç–ª–∞—è ‚Üí —Ç–µ–º–Ω–∞—è ‚Üí —Å–∏—Å—Ç–µ–º–∞
4. ‚úÖ **Canvas –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –æ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞** - —Ç–µ–º—ã –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
5. ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage** - —Ç–µ–º–∞ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏
6. ‚úÖ **–ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù–û –í –û–°–ù–û–í–ù–û–ï –ü–†–ò–õ–û–ñ–ï–ù–ò–ï** - —Ö—É–∫ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É –∫–∞–Ω–≤–∞—Å—É
7. ‚úÖ **–†–ê–ë–û–¢–ê–ï–¢ –ü–†–ò –°–ò–°–¢–ï–ú–ù–û–ô –¢–ï–ú–ù–û–ô –¢–ï–ú–ï** - –ø–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –æ—Ç –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –¶–∏–∫–ª –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–º
- **–°–∏—Å—Ç–µ–º–∞** ‚Üí **–°–≤–µ—Ç–ª–∞—è** ‚Üí **–¢–µ–º–Ω–∞—è** ‚Üí **–°–∏—Å—Ç–µ–º–∞** ‚Üª

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
1. –û—Ç–∫—Ä–æ–π—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ http://localhost:5177/
2. **–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä –Ω–∞ —Ç–µ–º–Ω—É—é —Ç–µ–º—É** (macOS: –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –û—Å–Ω–æ–≤–Ω—ã–µ ‚Üí –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ)
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É —Ç–µ–º—ã –≤ –∫–∞–Ω–≤–∞—Å —Ç—É–ª–±–∞—Ä–µ (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É –Ω–∞–¥ –∫–∞–Ω–≤–∞—Å–æ–º)
4. –¢–µ–º–∞ –∫–∞–Ω–≤–∞—Å–∞ –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º—ã –±—Ä–∞—É–∑–µ—Ä–∞
5. –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º –æ—Ç —Ç–µ–º—ã –∫–∞–Ω–≤–∞—Å–∞

## Console –ª–æ–≥ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
–ü—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ç–µ–º—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è:
```
üé® Canvas: toggleTheme called! Current theme: system
üé® Canvas: Theme toggle: system -> light
üé® Canvas: Theme applied: light dark class: false
```

**–ì–õ–ê–í–ù–û–ï: –¢–µ–ø–µ—Ä—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã –∫–∞–Ω–≤–∞—Å–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–∞–∂–µ –ø—Ä–∏ —Å–∏—Å—Ç–µ–º–Ω–æ–π —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ –±—Ä–∞—É–∑–µ—Ä–∞!** üé®‚úÖ 