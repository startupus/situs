/* 
 * CSS изоляция для канваса редактора Redaktus
 * Обеспечивает полную изоляцию стилей канваса от темы интерфейса редактора
 */

/* Контейнер канваса - полная изоляция от темы интерфейса */
.redaktus-canvas {
  /* Сброс всех наследуемых стилей темы интерфейса */
  all: initial;
  
  /* Базовые стили для канваса - используем Inter как в @admino/ */
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
  font-size: 16px;
  line-height: 1.5;
  color: #1f2937;
  background-color: #ffffff;
  
  /* Изоляция от родительских стилей */
  isolation: isolate;
  
  /* Создание нового stacking context */
  position: relative;
  z-index: 1;
}

/* Темная тема канваса */
.redaktus-canvas.dark {
  color: #f9fafb;
  background-color: #111827;
}

/* Светлая тема канваса */
.redaktus-canvas.light {
  color: #1f2937;
  background-color: #ffffff;
}

/* Изоляция всех элементов внутри канваса */
.redaktus-canvas * {
  /* Сброс наследуемых стилей */
  box-sizing: border-box;
  
  /* Изоляция от родительских тем */
  color: inherit;
  background-color: transparent;
}

/* Специальные стили для UI элементов канваса (не контента) */
.redaktus-canvas .canvas-ui-element {
  /* Используем CSS переменные для UI элементов канваса */
  background-color: var(--canvas-ui-bg, #f9fafb);
  color: var(--canvas-ui-text, #1f2937);
  border-color: var(--canvas-ui-border, #e5e7eb);
}

/* Темная тема для UI элементов канваса */
.redaktus-canvas.dark .canvas-ui-element {
  background-color: var(--canvas-ui-bg, #1f2937);
  color: var(--canvas-ui-text, #f9fafb);
  border-color: var(--canvas-ui-border, #374151);
}

/* Изоляция TailGrids компонентов в канвасе */
.redaktus-canvas .tailgrids-component {
  /* Сброс всех стилей темы интерфейса */
  all: revert;
  
  /* Применение оригинальных TailGrids стилей */
  font-family: inherit;
  color: inherit;
  background-color: transparent;
}

/* Изоляция от темной темы интерфейса */
.redaktus-canvas:not(.dark) {
  /* Принудительно светлая тема для контента */
  color-scheme: light;
}

.redaktus-canvas.dark {
  /* Принудительно темная тема для контента */
  color-scheme: dark;
}

/* Специальные стили для drag & drop зоны */
.redaktus-canvas .drag-drop-zone {
  border: 2px dashed transparent;
  transition: border-color 0.2s ease;
}

.redaktus-canvas .drag-drop-zone.drag-over {
  border-color: #3b82f6;
  background-color: rgba(59, 130, 246, 0.05);
}

/* Изоляция от глобальных стилей Tailwind */
.redaktus-canvas {
  /* Отключаем наследование Tailwind классов от родительских элементов */
  --tw-bg-opacity: 1;
  --tw-text-opacity: 1;
  --tw-border-opacity: 1;
}

/* Специальные стили для блоков в канвасе */
.redaktus-canvas .redaktus-block {
  /* Изоляция блока от темы интерфейса */
  position: relative;
  z-index: 2;
  
  /* Сброс наследуемых стилей */
  all: revert;
  
  /* Применение стилей блока */
  font-family: inherit;
  color: inherit;
  background-color: transparent;
}

/* Изоляция от темной темы интерфейса редактора */
.redaktus-canvas {
  /* Принудительно отключаем наследование темной темы */
  --redaktus-interface-theme: none;
}

/* Специальные стили для мобильного и планшетного режимов */
.redaktus-canvas[data-device="mobile"] {
  max-width: 375px;
  margin: 0 auto;
}

.redaktus-canvas[data-device="tablet"] {
  max-width: 768px;
  margin: 0 auto;
}

.redaktus-canvas[data-device="desktop"] {
  max-width: none;
}
