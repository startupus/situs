# Legacy Components

Эта папка содержит устаревшие компоненты, которые дублируют функциональность современной архитектуры.

## Перемещенные компоненты:

### RedaktusEditor.tsx

- **Замена:** `src/components/redaktus/redaktus-core.tsx`
- **Причина:** Дублирует функциональность полноценного Redaktus редактора

### StudioInterface.tsx

- **Замена:** `src/components/situs/SitusApp.tsx`
- **Причина:** Конфликтует с Situs админ-панелью

### ProjectWorkspace.tsx

- **Замена:** `src/components/situs/pages/SitusProjects.tsx`
- **Причина:** Дублирует управление проектами

### SitusPlatform.tsx

- **Замена:** `src/components/situs/SitusApp.tsx`
- **Причина:** Полностью дублирует Situs приложение

## Статус

Компоненты в этой папке НЕ используются в production коде, но сохранены для возможного восстановления функциональности при необходимости.

## Дата перемещения

30.07.2025 - Реструктуризация согласно TODO.md

## Задачи по исправлению тем в Redaktus

### Выполненные задачи:

- [x] Создана архитектура разделения тем
- [x] Созданы контексты: AdminThemeContext, EditorThemeContext, ProjectThemeContext
- [x] Обновлен useCanvasTheme для работы только с интерфейсом канваса
- [x] Создан PageThemeSettings для настроек темы страницы
- [x] Интегрированы переводы в SettingsPanel
- [x] Обновлены App.tsx и redaktus-core.tsx для использования новых контекстов
- [x] Создана правильная изоляция тем проекта от тем интерфейса

### Архитектура:

1. **AdminThemeContext** - управляет темой общего интерфейса админки
2. **EditorThemeContext** - управляет темой интерфейса редактора Redaktus
3. **ProjectThemeContext** - управляет темой контента сайта (только для блоков внутри .site-content)
4. **useCanvasTheme** - управляет темой UI элементов канваса

### Ключевые изменения:

- Тема проекта теперь применяется только к элементам с классом `.site-content`
- Блоки контента обернуты в `<div className="site-content">` в PageViewer
- Созданы отдельные CSS переменные для тем сайта (--site-primary, --site-secondary и т.д.)
- Полная изоляция тем интерфейса от тем контента

### Осталось сделать:

- [ ] Исправить ошибки TypeScript
- [ ] Протестировать работу
- [ ] Убедиться, что темы не влияют друг на друга
