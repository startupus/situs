import { useState } from "react";
import { Link } from "react-router-dom";
import PropTypes from "prop-types";

const Header = ({ sidebarOpen, setSidebarOpen }) => {
  const [dropdownOpen, setDropdownOpen] = useState(false);

  return (
    <header className="sticky top-0 z-999 flex w-full bg-white drop-shadow-1 dark:bg-boxdark dark:drop-shadow-none">
      <div className="flex flex-grow items-center justify-between px-4 py-4 shadow-2 md:px-6 2xl:px-11">
        <div className="flex items-center gap-2 sm:gap-4 lg:hidden">
          <button
            aria-controls="sidebar"
            onClick={(e) => {
              e.stopPropagation();
              setSidebarOpen(!sidebarOpen);
            }}
            className="z-99999 block rounded-sm border border-stroke bg-white p-1.5 shadow-sm dark:border-strokedark dark:bg-boxdark lg:hidden"
          >
            <span className="relative block h-5.5 w-5.5 cursor-pointer">
              <span className="du-block absolute right-0 h-full w-full">
                <span className="relative left-0 top-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-[0] duration-200 ease-in-out dark:bg-white"></span>
                <span className="relative left-0 top-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-[150] duration-200 ease-in-out dark:bg-white"></span>
                <span className="relative left-0 top-0 my-1 block h-0.5 w-0 rounded-sm bg-black delay-[300] duration-200 ease-in-out dark:bg-white"></span>
              </span>
            </span>
          </button>
          <Link className="block flex-shrink-0 lg:hidden" to="/">
            <div className="flex items-center">
              <div className="w-8 h-8 bg-primary rounded-lg flex items-center justify-center mr-3">
                <span className="text-white font-bold text-lg">S</span>
              </div>
              <span className="text-xl font-bold">Situs</span>
            </div>
          </Link>
        </div>

        <div className="flex items-center gap-3 2xsm:gap-7">
          <ul className="flex items-center gap-2 2xsm:gap-4">
            <li className="flex items-center gap-2 2xsm:gap-4">
              <span className="flex h-8 w-8 cursor-pointer items-center justify-center rounded-xl border-[0.5px] border-stroke bg-gray hover:text-primary dark:border-strokedark dark:bg-meta-4 dark:text-white dark:hover:text-primary">
                <svg
                  className="fill-current"
                  width="18"
                  height="18"
                  viewBox="0 0 18 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M16.2 9.22185C16.5186 9.22185 16.8341 9.15022 17.1276 9.01243C17.4211 8.87463 17.6837 8.67319 17.8986 8.42327C18.1136 8.17335 18.2752 7.8809 18.3718 7.56331C18.4684 7.24572 18.4976 6.91033 18.4574 6.58073C18.4172 6.25112 18.3084 5.93467 18.138 5.65232C17.9676 5.36997 17.7399 5.12849 17.4697 4.94324C17.1995 4.75799 16.8931 4.63314 16.5717 4.57681C16.2504 4.52048 15.9209 4.53406 15.6067 4.61696C15.2925 4.69986 14.9997 4.85012 14.7467 5.05873C14.4937 5.26735 14.2869 5.52949 14.139 5.82828C13.9911 6.12707 13.9054 6.45625 13.8866 6.79375C13.8678 7.13125 13.9163 7.46875 14.0293 7.7875C14.1423 8.10625 14.3178 8.40039 14.5467 8.65273C14.7756 8.90508 15.053 9.11047 15.3634 9.25599C15.6738 9.40152 16.0106 9.48421 16.2 9.48421"
                    fill=""
                  />
                  <path
                    d="M1.80001 9.22185C1.48141 9.22185 1.16592 9.15022 0.872428 9.01243C0.578936 8.87463 0.316301 8.67319 0.101365 8.42327C-0.113571 8.17335 -0.275194 7.8809 -0.371843 7.56331C-0.468491 7.24572 -0.497646 6.91033 -0.457428 6.58073C-0.41721 6.25112 -0.308426 5.93467 -0.138028 5.65232C0.0323701 5.36997 0.260076 5.12849 0.530285 4.94324C0.800494 4.75799 1.10688 4.63314 1.42825 4.57681C1.74962 4.52048 2.07908 4.53406 2.39328 4.61696C2.70748 4.69986 3.00026 4.85012 3.25326 5.05873C3.50626 5.26735 3.71306 5.52949 3.86096 5.82828C4.00886 6.12707 4.09456 6.45625 4.11336 6.79375C4.13216 7.13125 4.08366 7.46875 3.97066 7.7875C3.85766 8.10625 3.68216 8.40039 3.45326 8.65273C3.22436 8.90508 2.94696 9.11047 2.63656 9.25599C2.32616 9.40152 1.98936 9.48421 1.80001 9.48421"
                    fill=""
                  />
                  <path
                    d="M13.5 5.22185C13.7914 5.22185 14.0774 5.15574 14.3376 5.02891C14.5979 4.90208 14.8258 4.71786 15.0037 4.48917C15.1817 4.26048 15.3051 3.99325 15.3649 3.70852C15.4248 3.42378 15.4187 3.12859 15.347 2.84513C15.2753 2.56167 15.1401 2.29747 14.9513 2.07228C14.7624 1.8471 14.5247 1.66691 14.2538 1.54609C13.9829 1.42526 13.6859 1.36672 13.3861 1.37567C13.0863 1.38462 12.7936 1.36083 12.5309 1.3065C12.2682 1.25217 12.0329 1.16958 11.8407 1.06547C11.6486 0.961355 11.5049 0.838485 11.4237 0.704141C11.3425 0.569797 11.3265 0.427598 11.3777 0.292203C11.4289 0.156808 11.5455 0.0329134 11.7125 -0.0693722C11.8795 -0.171658 12.0899 -0.221497 12.3037 -0.213251C12.5176 -0.205005 12.7264 -0.138868 12.9106 -0.0214237C13.0948 0.0960206 13.2475 0.260712 13.3534 0.456688C13.4593 0.652664 13.5149 0.873395 13.5149 1.09785C13.5149 1.32231 13.4593 1.54304 13.3534 1.73902C13.2475 1.93499 13.0948 2.09969 12.9106 2.21713C12.7264 2.33458 12.5176 2.40071 12.3037 2.40896C12.0899 2.41721 11.8795 2.36737 11.7125 2.26508C11.5455 2.1628 11.4289 2.0389 11.3777 1.90351C11.3265 1.76811 11.3425 1.62592 11.4237 1.49157C11.5049 1.35723 11.6486 1.23436 11.8407 1.13025C12.0329 1.02613 12.2682 0.943543 12.5309 0.889213C12.7936 0.834883 13.0863 0.811089 13.3861 0.820041C13.6859 0.828993 13.9829 0.870525 14.2538 0.991357C14.5247 1.11219 14.7624 1.29238 14.9513 1.51756C15.1401 1.74275 15.2753 2.00695 15.347 2.29041C15.4187 2.57387 15.4248 2.86906 15.3649 3.15379C15.3051 3.43853 15.1817 3.70576 15.0037 3.93445C14.8258 4.16314 14.5979 4.34736 14.3376 4.47419C14.0774 4.60102 13.7914 4.66713 13.5 4.66713"
                    fill=""
                  />
                  <path
                    d="M4.5 5.22185C4.20862 5.22185 3.92262 5.15574 3.66238 5.02891C3.40214 4.90208 3.17421 4.71786 2.99628 4.48917C2.81835 4.26048 2.69492 3.99325 2.63508 3.70852C2.57524 3.42378 2.58138 3.12859 2.65305 2.84513C2.72472 2.56167 2.85988 2.29747 3.04875 2.07228C3.23763 1.8471 3.47533 1.66691 3.74621 1.54609C4.01708 1.42526 4.31408 1.36672 4.61388 1.37567C4.91368 1.38462 5.20641 1.36083 5.46907 1.3065C5.73173 1.25217 5.96706 1.16958 6.15921 1.06547C6.35136 0.961355 6.49507 0.838485 6.57627 0.704141C6.65746 0.569797 6.67346 0.427598 6.62227 0.292203C6.57108 0.156808 6.45448 0.0329134 6.28748 -0.0693722C6.12048 -0.171658 5.91007 -0.221497 5.69624 -0.213251C5.48241 -0.205005 5.27359 -0.138868 5.08939 -0.0214237C4.9052 0.0960206 4.75253 0.260712 4.64664 0.456688C4.54075 0.652664 4.48513 0.873395 4.48513 1.09785C4.48513 1.32231 4.54075 1.54304 4.64664 1.73902C4.75253 1.93499 4.9052 2.09969 5.08939 2.21713C5.27359 2.33458 5.48241 2.40071 5.69624 2.40896C5.91007 2.41721 6.12048 2.36737 6.28748 2.26508C6.45448 2.1628 6.57108 2.0389 6.62227 1.90351C6.67346 1.76811 6.65746 1.62592 6.57627 1.49157C6.49507 1.35723 6.35136 1.23436 6.15921 1.13025C5.96706 1.02613 5.73173 0.943543 5.46907 0.889213C5.20641 0.834883 4.91368 0.811089 4.61388 0.820041C4.31408 0.828993 4.01708 0.870525 3.74621 0.991357C3.47533 1.11219 3.23763 1.29238 3.04875 1.51756C2.85988 1.74275 2.72472 2.00695 2.65305 2.29041C2.58138 2.57387 2.57524 2.86906 2.63508 3.15379C2.69492 3.43853 2.81835 3.70576 2.99628 3.93445C3.17421 4.16314 3.40214 4.34736 3.66238 4.47419C3.92262 4.60102 4.20862 4.66713 4.5 4.66713"
                    fill=""
                  />
                </svg>
              </span>
            </li>
            <li className="flex items-center gap-2 2xsm:gap-4">
              <span className="flex h-8 w-8 cursor-pointer items-center justify-center rounded-xl border-[0.5px] border-stroke bg-gray hover:text-primary dark:border-strokedark dark:bg-meta-4 dark:text-white dark:hover:text-primary">
                <svg
                  className="fill-current"
                  width="18"
                  height="18"
                  viewBox="0 0 18 18"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M16.2 9.22185C16.5186 9.22185 16.8341 9.15022 17.1276 9.01243C17.4211 8.87463 17.6837 8.67319 17.8986 8.42327C18.1136 8.17335 18.2752 7.8809 18.3718 7.56331C18.4684 7.24572 18.4976 6.91033 18.4574 6.58073C18.4172 6.25112 18.3084 5.93467 18.138 5.65232C17.9676 5.36997 17.7399 5.12849 17.4697 4.94324C17.1995 4.75799 16.8931 4.63314 16.5717 4.57681C16.2504 4.52048 15.9209 4.53406 15.6067 4.61696C15.2925 4.69986 14.9997 4.85012 14.7467 5.05873C14.4937 5.26735 14.2869 5.52949 14.139 5.82828C13.9911 6.12707 13.9054 6.45625 13.8866 6.79375C13.8678 7.13125 13.9163 7.46875 14.0293 7.7875C14.1423 8.10625 14.3178 8.40039 14.5467 8.65273C14.7756 8.90508 15.053 9.11047 15.3634 9.25599C15.6738 9.40152 16.0106 9.48421 16.2 9.48421"
                    fill=""
                  />
                  <path
                    d="M1.80001 9.22185C1.48141 9.22185 1.16592 9.15022 0.872428 9.01243C0.578936 8.87463 0.316301 8.67319 0.101365 8.42327C-0.113571 8.17335 -0.275194 7.8809 -0.371843 7.56331C-0.468491 7.24572 -0.497646 6.91033 -0.457428 6.58073C-0.41721 6.25112 -0.308426 5.93467 -0.138028 5.65232C0.0323701 5.36997 0.260076 5.12849 0.530285 4.94324C0.800494 4.75799 1.10688 4.63314 1.42825 4.57681C1.74962 4.52048 2.07908 4.53406 2.39328 4.61696C2.70748 4.69986 3.00026 4.85012 3.25326 5.05873C3.50626 5.26735 3.71306 5.52949 3.86096 5.82828C4.00886 6.12707 4.09456 6.45625 4.11336 6.79375C4.13216 7.13125 4.08366 7.46875 3.97066 7.7875C3.85766 8.10625 3.68216 8.40039 3.45326 8.65273C3.22436 8.90508 2.94696 9.11047 2.63656 9.25599C2.32616 9.40152 1.98936 9.48421 1.80001 9.48421"
                    fill=""
                  />
                  <path
                    d="M13.5 5.22185C13.7914 5.22185 14.0774 5.15574 14.3376 5.02891C14.5979 4.90208 14.8258 4.71786 15.0037 4.48917C15.1817 4.26048 15.3051 3.99325 15.3649 3.70852C15.4248 3.42378 15.4187 3.12859 15.347 2.84513C15.2753 2.56167 15.1401 2.29747 14.9513 2.07228C14.7624 1.8471 14.5247 1.66691 14.2538 1.54609C13.9829 1.42526 13.6859 1.36672 13.3861 1.37567C13.0863 1.38462 12.7936 1.36083 12.5309 1.3065C12.2682 1.25217 12.0329 1.16958 11.8407 1.06547C11.6486 0.961355 11.5049 0.838485 11.4237 0.704141C11.3425 0.569797 11.3265 0.427598 11.3777 0.292203C11.4289 0.156808 11.5455 0.0329134 11.7125 -0.0693722C11.8795 -0.171658 12.0899 -0.221497 12.3037 -0.213251C12.5176 -0.205005 12.7264 -0.138868 12.9106 -0.0214237C13.0948 0.0960206 13.2475 0.260712 13.3534 0.456688C13.4593 0.652664 13.5149 0.873395 13.5149 1.09785C13.5149 1.32231 13.4593 1.54304 13.3534 1.73902C13.2475 1.93499 13.0948 2.09969 12.9106 2.21713C12.7264 2.33458 12.5176 2.40071 12.3037 2.40896C12.0899 2.41721 11.8795 2.36737 11.7125 2.26508C11.5455 2.1628 11.4289 2.0389 11.3777 1.90351C11.3265 1.76811 11.3425 1.62592 11.4237 1.49157C11.5049 1.35723 11.6486 1.23436 11.8407 1.13025C12.0329 1.02613 12.2682 0.943543 12.5309 0.889213C12.7936 0.834883 13.0863 0.811089 13.3861 0.820041C13.6859 0.828993 13.9829 0.870525 14.2538 0.991357C14.5247 1.11219 14.7624 1.29238 14.9513 1.51756C15.1401 1.74275 15.2753 2.00695 15.347 2.29041C15.4187 2.57387 15.4248 2.86906 15.3649 3.15379C15.3051 3.43853 15.1817 3.70576 15.0037 3.93445C14.8258 4.16314 14.5979 4.34736 14.3376 4.47419C14.0774 4.60102 13.7914 4.66713 13.5 4.66713"
                    fill=""
                  />
                  <path
                    d="M4.5 5.22185C4.20862 5.22185 3.92262 5.15574 3.66238 5.02891C3.40214 4.90208 3.17421 4.71786 2.99628 4.48917C2.81835 4.26048 2.69492 3.99325 2.63508 3.70852C2.57524 3.42378 2.58138 3.12859 2.65305 2.84513C2.72472 2.56167 2.85988 2.29747 3.04875 2.07228C3.23763 1.8471 3.47533 1.66691 3.74621 1.54609C4.01708 1.42526 4.31408 1.36672 4.61388 1.37567C4.91368 1.38462 5.20641 1.36083 5.46907 1.3065C5.73173 1.25217 5.96706 1.16958 6.15921 1.06547C6.35136 0.961355 6.49507 0.838485 6.57627 0.704141C6.65746 0.569797 6.67346 0.427598 6.62227 0.292203C6.57108 0.156808 6.45448 0.0329134 6.28748 -0.0693722C6.12048 -0.171658 5.91007 -0.221497 5.69624 -0.213251C5.48241 -0.205005 5.27359 -0.138868 5.08939 -0.0214237C4.9052 0.0960206 4.75253 0.260712 4.64664 0.456688C4.54075 0.652664 4.48513 0.873395 4.48513 1.09785C4.48513 1.32231 4.54075 1.54304 4.64664 1.73902C4.75253 1.93499 4.9052 2.09969 5.08939 2.21713C5.27359 2.33458 5.48241 2.40071 5.69624 2.40896C5.91007 2.41721 6.12048 2.36737 6.28748 2.26508C6.45448 2.1628 6.57108 2.0389 6.62227 1.90351C6.67346 1.76811 6.65746 1.62592 6.57627 1.49157C6.49507 1.35723 6.35136 1.23436 6.15921 1.13025C5.96706 1.02613 5.73173 0.943543 5.46907 0.889213C5.20641 0.834883 4.91368 0.811089 4.61388 0.820041C4.31408 0.828993 4.01708 0.870525 3.74621 0.991357C3.47533 1.11219 3.23763 1.29238 3.04875 1.51756C2.85988 1.74275 2.72472 2.00695 2.65305 2.29041C2.58138 2.57387 2.57524 2.86906 2.63508 3.15379C2.69492 3.43853 2.81835 3.70576 2.99628 3.93445C3.17421 4.16314 3.40214 4.34736 3.66238 4.47419C3.92262 4.60102 4.20862 4.66713 4.5 4.66713"
                    fill=""
                  />
                </svg>
              </span>
            </li>
          </ul>

          <div className="flex items-center gap-3 2xsm:gap-7">
            <div className="relative">
              <button
                onClick={() => setDropdownOpen(!dropdownOpen)}
                className="flex items-center gap-4"
              >
                <span className="h-12 w-12 rounded-full bg-primary flex items-center justify-center">
                  <span className="text-white font-semibold">П</span>
                </span>
                <span className="hidden text-right lg:block">
                  <span className="block text-sm font-medium text-black dark:text-white">
                    Пользователь
                  </span>
                  <span className="block text-xs">Администратор</span>
                </span>
              </button>

              <div
                className={`absolute right-0 mt-4 flex w-62.5 flex-col rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark ${
                  dropdownOpen === true ? "block" : "hidden"
                }`}
              >
                <ul className="flex flex-col gap-5 border-b border-stroke px-6 py-7.5 dark:border-strokedark">
                  <li>
                    <Link
                      to="/profile"
                      className="flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base"
                    >
                      Мой профиль
                    </Link>
                  </li>
                  <li>
                    <Link
                      to="/settings"
                      className="flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base"
                    >
                      Настройки
                    </Link>
                  </li>
                </ul>
                <button className="flex items-center gap-3.5 py-4 px-6 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base">
                  Выйти
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
  );
};

Header.propTypes = {
  sidebarOpen: PropTypes.bool,
  setSidebarOpen: PropTypes.func,
};

export default Header;
