nohup: ignoring input
[BOOT] Loading ProjectsController file
[BOOT] Loading ProjectsModule
[BOOT] Creating Nest application...
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[NestFactory] [39m[32mStarting Nest application...[39m
[Prisma] constructor start
[Prisma] constructor end
[BOOT] ProjectsService constructed
[BOOT] ProjectsService manual injection, prisma: true realtime: true
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDatabaseModule dependencies initialized[39m[38;5;3m +14ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPassportModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigHostModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mCommonModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAnalyticsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mDomainsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mRealtimeModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mConfigModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mPagesModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mSeoModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAccountsModule dependencies initialized[39m[38;5;3m +0ms[39m
[BOOT] ProjectsController manual injection, projectsService: true realtime: true
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProductsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mProjectsModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mJwtModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAppModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mUsersModule dependencies initialized[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[InstanceLoader] [39m[32mAuthModule dependencies initialized[39m[38;5;3m +1ms[39m
[BOOT] Nest application created
[BOOT] CORS enabled with any
[BOOT] About to listen on port 3002
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mHealthController {/}:[39m[38;5;3m +5ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/health, GET} route[39m[38;5;3m +2ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mRealtimeController {/api}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/realtime/test, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/realtime/stats, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/events, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/heartbeat, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/realtime/progress, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPagesController {/api/pages}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/pages, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/pages/preview, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/pages/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/pages, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/pages/:id, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProjectPagesController {/api}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:projectId/pages, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:projectId/products/:productId/pages, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:projectId/pages/reorder, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProjectsController {/api/projects}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/check-slug/:slug, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/check-domain/:domain, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id/domains, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id/status, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id/publish, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id/unpublish, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id/duplicate, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id/accesses, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id/accesses, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id/accesses/:accessId, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:id/accesses/:accessId, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/seed/dev/:count, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProductsController {/api/products}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/products/health, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/products/debug-di, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/products, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/products/catalog/types, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/products/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/products, POST} route[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/products/:id, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/products/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mProjectProductsController {/api/projects/:projectId/products}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:projectId/products, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:projectId/products, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:projectId/products/:productId, PUT} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/projects/:projectId/products/:productId, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAnalyticsController {/api/analytics}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/analytics/dashboard, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/analytics/traffic, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/analytics/conversions, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/analytics/projects, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/analytics/top-pages, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/analytics/traffic-sources, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/analytics/devices, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mPublicSeoController {/}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/robots.txt, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/sitemap.xml, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mDomainsController {/api/domains}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/domains/check, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAccountsController {/api/accounts}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/accounts, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/accounts/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/accounts, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/accounts/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/accounts/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAccountMembershipsController {/api/account-memberships}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/account-memberships/:accountId, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/account-memberships, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/account-memberships/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/account-memberships/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAgencyClientController {/api/agency-clients}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/agency-clients/:agencyAccountId, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/agency-clients, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/api/agency-clients/:id, DELETE} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mAuthController {/auth}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/register, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/login, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/profile, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/auth/refresh, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RoutesResolver] [39m[32mUsersController {/users}:[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/users, POST} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/users, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/users/me, GET} route[39m[38;5;3m +1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/users/:id, GET} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/users/:id, PATCH} route[39m[38;5;3m +0ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[RouterExplorer] [39m[32mMapped {/users/:id, DELETE} route[39m[38;5;3m +0ms[39m
[Prisma] onModuleInit start
prisma:info Starting a sqlite pool with 9 connections.
✅ Подключение к базе данных установлено
[Prisma] onModuleInit end
[32m[Nest] 73349  - [39m08/13/2025, 6:47:32 PM [32m    LOG[39m [38;5;3m[NestApplication] [39m[32mNest application successfully started[39m[38;5;3m +19ms[39m
[BOOT] Listening OK on http://localhost:3002
🚀 Situs NestJS Server запущен и слушает порт 3002
🔗 API базовый URL: http://localhost:3002/api
💚 Health: http://localhost:3002/health
[BOOT] Listening on http://localhost:3002
🚀 Situs NestJS Server запущен!
🔗 API базовый URL: http://localhost:3002/api
💚 Health: http://localhost:3002/health
prisma:query BEGIN IMMEDIATE
prisma:query SELECT `main`.`users`.`id` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`username`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`role`, `main`.`users`.`globalRole`, `main`.`users`.`status`, `main`.`users`.`subscriptionPlan`, `main`.`users`.`limits`, `main`.`users`.`profile`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND (`main`.`users`.`email` = ? AND 1=1)) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`username`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`role`, `main`.`users`.`globalRole`, `main`.`users`.`status`, `main`.`users`.`subscriptionPlan`, `main`.`users`.`limits`, `main`.`users`.`profile`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query COMMIT
👤 dev-пользователь готов (best-effort)
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`customDomain`, `main`.`projects`.`domain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`accountId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
[32m[Nest] 73349  - [39m08/13/2025, 6:47:39 PM [32m    LOG[39m [38;5;3m[LoggingInterceptor] [39m[32mGET /api/projects/events 200 - 1ms[39m
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`customDomain`, `main`.`projects`.`domain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`customDomain`, `main`.`projects`.`domain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`accountId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
[32m[Nest] 73349  - [39m08/13/2025, 6:47:39 PM [32m    LOG[39m [38;5;3m[LoggingInterceptor] [39m[32mGET /robots.txt 200 - 1ms[39m
[32m[Nest] 73349  - [39m08/13/2025, 6:47:39 PM [32m    LOG[39m [38;5;3m[LoggingInterceptor] [39m[32mGET /robots.txt 200 - 0ms[39m
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`accountId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`customDomain`, `main`.`projects`.`domain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`accountId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
[32m[Nest] 73349  - [39m08/13/2025, 6:47:40 PM [32m    LOG[39m [38;5;3m[LoggingInterceptor] [39m[32mGET /api/projects/events 200 - 0ms[39m
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`customDomain`, `main`.`projects`.`domain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`customDomain`, `main`.`projects`.`domain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`customDomain`, `main`.`projects`.`domain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`accountId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`accountId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`accountId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
[32m[Nest] 73349  - [39m08/13/2025, 6:47:40 PM [32m    LOG[39m [38;5;3m[LoggingInterceptor] [39m[32mGET /sitemap.xml 200 - 1ms[39m
[31m[Nest] 73349  - [39m08/13/2025, 6:47:40 PM [31m  ERROR[39m [38;5;3m[GlobalExceptionFilter] [39m[31mGET /api/realtime/test?type=project_updated - 401 - Unauthorized [traceId=meabousv-vq8e6ceusrl][39m
UnauthorizedException: Unauthorized
    at JwtAuthGuard.handleRequest (/workspace/node_modules/@nestjs/passport/dist/auth.guard.js:60:30)
    at /workspace/node_modules/@nestjs/passport/dist/auth.guard.js:44:124
    at /workspace/node_modules/@nestjs/passport/dist/auth.guard.js:83:24
    at allFailed (/workspace/node_modules/passport/lib/middleware/authenticate.js:110:18)
    at attempt (/workspace/node_modules/passport/lib/middleware/authenticate.js:183:28)
    at strategy.fail (/workspace/node_modules/passport/lib/middleware/authenticate.js:314:9)
    at JwtStrategy.authenticate (/workspace/node_modules/passport-jwt/lib/strategy.js:96:21)
    at attempt (/workspace/node_modules/passport/lib/middleware/authenticate.js:378:16)
    at authenticate (/workspace/node_modules/passport/lib/middleware/authenticate.js:379:7)
    at /workspace/node_modules/@nestjs/passport/dist/auth.guard.js:88:3
[32m[Nest] 73349  - [39m08/13/2025, 6:47:40 PM [32m    LOG[39m [38;5;3m[LoggingInterceptor] [39m[32mGET /sitemap.xml 200 - 0ms[39m
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`customDomain`, `main`.`projects`.`domain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`accountId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
[32m[Nest] 73349  - [39m08/13/2025, 6:47:40 PM [32m    LOG[39m [38;5;3m[LoggingInterceptor] [39m[32mGET /api/projects/events 200 - 0ms[39m
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`customDomain`, `main`.`projects`.`domain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`accountId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`username`, `main`.`users`.`email`, `main`.`users`.`password`, `main`.`users`.`role`, `main`.`users`.`globalRole`, `main`.`users`.`status`, `main`.`users`.`subscriptionPlan`, `main`.`users`.`limits`, `main`.`users`.`profile`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`email` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query INSERT INTO `main`.`users` (`id`, `username`, `email`, `password`, `role`, `globalRole`, `status`, `subscriptionPlan`, `limits`, `profile`, `createdAt`, `updatedAt`) VALUES (?,?,?,?,?,?,?,?,?,?,?,?) RETURNING `id` AS `id`, `username` AS `username`, `email` AS `email`, `password` AS `password`, `role` AS `role`, `globalRole` AS `globalRole`, `status` AS `status`, `subscriptionPlan` AS `subscriptionPlan`, `limits` AS `limits`, `profile` AS `profile`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
[32m[Nest] 73349  - [39m08/13/2025, 6:47:40 PM [32m    LOG[39m [38;5;3m[LoggingInterceptor] [39m[32mPOST /auth/register 201 - 277ms[39m
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`customDomain`, `main`.`projects`.`domain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`accountId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
[31m[Nest] 73349  - [39m08/13/2025, 6:47:40 PM [31m  ERROR[39m [38;5;3m[GlobalExceptionFilter] [39m[31mGET /api/projects - 401 - Unauthorized [traceId=meabov1f-tlpwxp3zsbf][39m
UnauthorizedException: Unauthorized
    at JwtAuthGuard.handleRequest (/workspace/node_modules/@nestjs/passport/dist/auth.guard.js:60:30)
    at /workspace/node_modules/@nestjs/passport/dist/auth.guard.js:44:124
    at /workspace/node_modules/@nestjs/passport/dist/auth.guard.js:83:24
    at allFailed (/workspace/node_modules/passport/lib/middleware/authenticate.js:110:18)
    at attempt (/workspace/node_modules/passport/lib/middleware/authenticate.js:183:28)
    at strategy.fail (/workspace/node_modules/passport/lib/middleware/authenticate.js:314:9)
    at JwtStrategy.authenticate (/workspace/node_modules/passport-jwt/lib/strategy.js:96:21)
    at attempt (/workspace/node_modules/passport/lib/middleware/authenticate.js:378:16)
    at authenticate (/workspace/node_modules/passport/lib/middleware/authenticate.js:379:7)
    at /workspace/node_modules/@nestjs/passport/dist/auth.guard.js:88:3
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`customDomain`, `main`.`projects`.`domain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`accountId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt` FROM `main`.`projects` WHERE (`main`.`projects`.`customDomain` = ? OR `main`.`projects`.`domain` = ?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`projects`.`id`, `main`.`projects`.`name`, `main`.`projects`.`description`, `main`.`projects`.`slug`, `main`.`projects`.`domain`, `main`.`projects`.`customDomain`, `main`.`projects`.`isPublished`, `main`.`projects`.`settings`, `main`.`projects`.`theme`, `main`.`projects`.`ownerId`, `main`.`projects`.`status`, `main`.`projects`.`createdAt`, `main`.`projects`.`updatedAt`, COALESCE(`aggr_selection_0_Product`.`_aggr_count_products`, 0) AS `_aggr_count_products` FROM `main`.`projects` LEFT JOIN (SELECT `main`.`products`.`projectId`, COUNT(*) AS `_aggr_count_products` FROM `main`.`products` WHERE 1=1 GROUP BY `main`.`products`.`projectId`) AS `aggr_selection_0_Product` ON (`main`.`projects`.`id` = `aggr_selection_0_Product`.`projectId`) WHERE 1=1 ORDER BY `main`.`projects`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT COUNT(*) AS `_count._all` FROM (SELECT `main`.`projects`.`id` FROM `main`.`projects` WHERE 1=1 LIMIT ? OFFSET ?) AS `sub`
[32m[Nest] 73349  - [39m08/13/2025, 6:47:40 PM [32m    LOG[39m [38;5;3m[LoggingInterceptor] [39m[32mGET /api/projects 200 - 2ms[39m
