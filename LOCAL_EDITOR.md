# Продвинутый визуальный редактор Redaktus

## Обзор

Продвинутый визуальный редактор Redaktus - это автономное решение для создания веб-сайтов с трехпанельным интерфейсом, аналогичным ReactBricks, но работающее полностью локально без зависимости от облачных сервисов.

## Архитектура

### Основные компоненты

1. **App.tsx** - Главный компонент приложения
2. **AdvancedVisualEditor.tsx** - Продвинутый редактор с трехпанельным интерфейсом
3. **main.tsx** - Точка входа React приложения
4. **index.css** - Стили с Tailwind CSS

### Технологический стек

- **React 18** - Основной фреймворк
- **TypeScript** - Типизация
- **Vite** - Сборщик и dev-сервер
- **Tailwind CSS** - Стилизация
- **HTML5 Drag & Drop API** - Перетаскивание компонентов

## Функциональность

### Основные возможности

1. **Drag & Drop интерфейс**
   - Перетаскивание компонентов из панели на холст
   - Позиционирование компонентов по координатам

2. **Библиотека компонентов**
   - Заголовок (H1-H6)
   - Текст (параграфы)
   - Изображения
   - Кнопки
   - Контейнеры

3. **Редактирование в реальном времени**
   - Клик по компоненту для редактирования
   - Изменение текста прямо на холсте
   - Мгновенное обновление

4. **Локальное сохранение**
   - Сохранение состояния в localStorage
   - Автоматическое восстановление при перезагрузке

### Интерфейс редактора

```
┌─────────────────────────────────────────────────────────┐
│                    Панель инструментов                  │
├─────────────┬───────────────────────────────────────────┤
│ Компоненты  │              Холст                        │
│             │                                           │
│ 📝 Заголовок│  ┌─────────────────────────────────────┐  │
│ 📄 Текст    │  │                                     │  │
│ 🖼️ Изображение│  │  Перетащите компоненты сюда        │  │
│ 🔘 Кнопка   │  │                                     │  │
│ 📦 Контейнер│  └─────────────────────────────────────┘  │
│             │                                           │
└─────────────┴───────────────────────────────────────────┘
```

## Установка и запуск

### Предварительные требования

- Node.js 18+
- npm или yarn

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

Приложение будет доступно по адресу: `http://localhost:5173`

### Сборка для продакшена

```bash
npm run build
```

## Использование

### 1. Запуск редактора

1. Откройте `http://localhost:5173`
2. Нажмите кнопку "Запустить редактор"

### 2. Добавление компонентов

1. Выберите компонент в левой панели
2. Перетащите его на холст
3. Компонент появится в указанной позиции

### 3. Редактирование компонентов

1. Кликните на компонент на холсте
2. Введите новый текст
3. Нажмите Enter или кликните вне компонента

### 4. Удаление компонентов

1. Выберите компонент
2. Нажмите клавишу Delete

## Структура кода

### Типы данных

```typescript
interface Component {
  id: string
  type: string
  content: string
  props: Record<string, any>
  position: { x: number; y: number }
}
```

### Основные функции

- `handleDragStart()` - Начало перетаскивания
- `handleDrop()` - Обработка сброса компонента
- `handleContentChange()` - Изменение содержимого
- `handleDeleteComponent()` - Удаление компонента

## Конфигурация

### Tailwind CSS

Файл `tailwind.config.js`:
```javascript
export default {
  content: [
    "./index.html",
    "./src/**/*.{js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

### PostCSS

Файл `postcss.config.js`:
```javascript
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
```

## Расширение функциональности

### Добавление новых компонентов

1. Добавьте новый тип в `availableComponents`
2. Реализуйте `getDefaultContent()` и `getDefaultProps()`
3. Добавьте рендеринг в `renderComponent()`

### Кастомизация стилей

1. Измените `getDefaultProps()` для новых стилей
2. Обновите CSS классы в `renderComponent()`
3. Добавьте новые стили в `index.css`

## Преимущества

1. **Автономность** - Работает без интернета
2. **Производительность** - Быстрая загрузка и отзывчивость
3. **Простота** - Интуитивный интерфейс
4. **Расширяемость** - Легко добавлять новые компоненты
5. **Безопасность** - Данные не покидают локальную машину

## Ограничения

1. **Базовый функционал** - Ограниченный набор компонентов
2. **Локальное хранение** - Данные только в браузере
3. **Отсутствие экспорта** - Нет возможности экспорта в HTML/CSS

## Планы развития

1. **Расширенная библиотека компонентов**
2. **Экспорт в HTML/CSS**
3. **Шаблоны и темы**
4. **Коллаборация в реальном времени**
5. **Интеграция с AI для генерации контента**

## Устранение неполадок

### Проблемы с Tailwind CSS

Если стили не применяются:
1. Проверьте `tailwind.config.js`
2. Убедитесь, что `postcss.config.js` настроен правильно
3. Перезапустите dev-сервер

### Проблемы с drag-and-drop

Если перетаскивание не работает:
1. Проверьте поддержку браузера
2. Убедитесь, что JavaScript включен
3. Проверьте консоль на ошибки

### Проблемы с сохранением

Если данные не сохраняются:
1. Проверьте localStorage в DevTools
2. Убедитесь, что браузер поддерживает localStorage
3. Проверьте настройки приватности браузера 